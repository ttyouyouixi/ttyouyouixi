<!-- index.wxml -->
<!-- 轮播图部分 -->
<import src="../../view/view-h-item.wxml" />
<import src="../../view/view-v-item.wxml" />
<view class="page">
  <!-- 搜索框 -->
  <view class="weui-search-bar" style="background-color: #FFD500">
    <view class="weui-search-bar__cancel-btn" bindtap="hideInput" style="color:black">广州▼</view>
    <view class="weui-search-bar__form" style="border-radius:20px">
      <view class="weui-search-bar__box">
        <icon class="weui-icon-search_in-box" type="search" size="14"></icon>
        <input type="text" class="weui-search-bar__input" placeholder="搜索" bindinput="inputTyping" bindfocus="routeSearch" />
      </view>
    </view>

  </view>
  <!-- 轮播 -->
  <swiper class="swiper" indicator-dots="true" autoplay="true" interval="3000">
    <block wx:for="{{banners}}" wx:key="_id">
      <swiper-item>
        <image src="{{item.url}}" class="slide-image" mode="aspectFill" bindtap="itemClick" data-proid="{{item.id}}" />
      </swiper-item>
    </block>
  </swiper>
  <!-- 重量筛选 -->
  <view class="weui-tab" style="background-color: white">
    <view class="weui-navbar">
      <block wx:for="{{tabs}}" wx:key="*this">
        <view id="{{index}}" class="weui-navbar__item {{activeIndex == index ? 'weui-bar__item_on' : ''}}" bindtap="tabClick">
          <view class="weui-navbar__title">{{item}}</view>
        </view>
      </block>
      <view class="weui-navbar__slider" style="left: {{sliderLeft}}px; transform: translateX({{sliderOffset}}px); -webkit-transform: translateX({{sliderOffset}}px);">

      </view>
    </view>
    <view class="weui-tab__panel">
      <!--<view class="weui-tab__content" hidden="{{activeIndex != 0}}">
      选项一的内容</view>
      <view class="weui-tab__content" hidden="{{activeIndex != 1}}">选项二的内容</view>
      <view class="weui-tab__content" hidden="{{activeIndex != 2}}">选项三的内容</view>
      -->
    </view>
  </view>
  <!-- 中间的列表 -->
  <block wx:for="{{orderList}}" wx:for-item="item">
    <view class="page-session">
      <template is="view-v-item-main" data="{{item}}" />
    </view>
  </block>
  <!-- 底部的推荐 -->
  <block wx:for="{{eventsKey}}" wx:for-item="key">
    <view class="page-session page-session-spacing">
      <view class="session-headeer">
        <text class="session-title">{{key.title}}</text>
        <!--<text class="more" catchtap="handleMore" data-type="{{key}}">
        更多</text>
        -->
      </view>
      <view class="session-content">
        <scroll-view class="event-scroll" scroll-x="true">
          <block wx:for="{{key.productList}}" wx:for-item="event">
            <template is="view-h-item-main" data="{{event}}" />
          </block>
        </scroll-view>
      </view>
    </view>
  </block>
</view>